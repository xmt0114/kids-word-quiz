# 需求文档

## 介绍

本规范定义了对 `supabaseApi.ts` 中 `getWords` 方法的清理和简化。该方法目前包含用于随机单词选择和复杂过滤的遗留逻辑，这些逻辑已不再需要，因为游戏中的单词获取现在由 `getStudySession` RPC 处理。清理后的方法应该只支持数据管理页面的基本列表需求。

## 术语表

- **getWords方法**: `SupabaseWordAPI` 类中从数据库检索单词列表的方法
- **数据管理页面**: 用于管理单词集合的管理界面 (`DataManagementPage.tsx`)
- **RPC**: 远程过程调用 - 用于复杂操作的数据库存储过程
- **教材集合**: 按教材或主题组织的单词组
- **分页**: 将大型数据集分割成较小、可管理页面的技术

## 需求

### 需求 1

**用户故事:** 作为系统维护者，我希望从getWords方法中移除未使用的逻辑，以便代码库更清洁且更易维护。

#### 验收标准

1. 当getWords方法被调用且selectionStrategy为'random'时，系统应完全移除此逻辑路径
2. 当getWords方法遇到get_random_words RPC引用时，系统应移除所有此类引用
3. 当getWords方法处理复杂选择策略时，系统应简化为仅支持基本排序
4. 当getWords方法被重构时，系统应保持对数据管理使用的向后兼容性
5. 当识别出未使用的参数时，系统应从方法签名中移除它们

### 需求 2

**用户故事:** 作为数据管理员，我希望通过基本排序和分页检索单词列表，以便高效浏览和管理单词集合。

#### 验收标准

1. 当我从教材集合请求单词时，系统应返回按'word'或'created_at'字段排序的单词
2. 当我指定排序顺序时，系统应支持升序和降序
3. 当我请求分页结果时，系统应支持limit和offset参数
4. 当我提供教材集合ID时，系统应将单词过滤到该特定集合
5. 当未提供教材集合ID时，系统应使用默认集合ID

### 需求 3

**用户故事:** 作为开发者，我希望有清晰简单的方法参数，以便API易于理解和正确使用。

#### 验收标准

1. 当定义方法签名时，系统应仅包含数据管理所需的参数
2. 当使用可选参数时，系统应提供合理的默认值
3. 当调用方法时，系统应验证必需参数
4. 当提供无效参数时，系统应返回适当的错误消息
5. 当更新方法文档时，系统应反映简化后的功能