# 数据管理功能说明文档

## 功能概述

为教育测验网站添加了完整的数据管理功能入口，允许用户查看和管理教材、词汇数据。

## 新增功能

### 1. 主页入口
- **位置**: 主页底部，"开始答题"按钮下方
- **按钮**: "数据管理"
- **功能**: 点击后进入数据管理页面

### 2. 数据管理页面

#### 2.1 教材管理模块
**功能特性**:
- 显示所有公开教材的列表
- 教材卡片展示信息：
  - 教材名称
  - 教材描述
  - 年级标签（如有）
  - 类别标签
  - 词汇数量统计
  - 创建时间
- 预留功能按钮：
  - "添加教材"按钮（顶部）
  - 每个教材卡片的"编辑"和"删除"按钮

**交互行为**:
- 点击教材卡片 → 自动切换到"词汇管理"Tab，显示该教材的词汇列表
- 卡片悬停效果：边框变色（紫色）

#### 2.2 词汇管理模块
**功能特性**:
- 显示当前选中教材的所有词汇
- 教材信息栏：
  - 教材名称
  - 词汇总数
  - 难度筛选按钮（全部、简单、中等、困难）
- 词汇表格列：
  - 单词
  - 定义
  - 难度（带颜色标签）
  - 选项数量
  - 操作按钮（编辑、删除）
- 预留功能按钮：
  - "添加词汇"按钮（顶部）
  - 每行词汇的"编辑"和"删除"按钮

**筛选功能**:
- 全部：显示所有难度的词汇
- 简单：只显示简单难度的词汇
- 中等：只显示中等难度的词汇
- 困难：只显示困难难度的词汇
- 实时筛选，无需刷新页面

### 3. 导航功能
- **返回首页**: 页面顶部"返回首页"按钮
- **Tab切换**: "教材管理" ↔ "词汇管理"
- **教材选择**: 点击教材卡片自动切换到对应词汇

## 设计特点

### 视觉设计
- **配色方案**: 紫色-蓝色渐变主题，与现有风格协调
- **布局**: 响应式设计，支持桌面和移动设备
- **卡片风格**: 圆角、阴影、悬停效果
- **难度标签**: 色彩编码
  - 简单：绿色
  - 中等：橙色
  - 困难：红色

### 用户体验
- 清晰的视觉层次
- 直观的导航结构
- 平滑的交互过渡
- 加载状态提示
- 错误处理和提示

## 技术实现

### 组件结构
```
src/components/DataManagementPage.tsx (新建)
  ├── 教材管理Tab
  │   ├── 教材列表网格
  │   ├── 教材卡片
  │   └── 添加教材按钮
  └── 词汇管理Tab
      ├── 教材信息栏
      ├── 难度筛选器
      ├── 词汇表格
      └── 添加词汇按钮
```

### 数据流
1. **教材数据**: 从 `word_collections` 表获取
2. **词汇数据**: 从 `words` 表获取，根据 `collection_id` 筛选
3. **难度筛选**: 客户端筛选，支持实时更新
4. **状态管理**: React Hooks (useState, useEffect)

### API集成
- 使用现有的 `wordAPI` 接口
- `getCollections()`: 获取教材列表
- `getWords({ collectionId, difficulty })`: 获取词汇列表

## 代码修改清单

### 新增文件
- `/workspace/kids-word-quiz/src/components/DataManagementPage.tsx`

### 修改文件
1. **App.tsx**:
   - 添加 `dataManagement` 状态
   - 添加 `handleDataManagement` 处理函数
   - 添加 DataManagementPage 路由

2. **HomePage.tsx**:
   - 添加 `onDataManagement` prop
   - 添加"数据管理"按钮
   - 移除旧的 `handleEditData` 函数

## 待实现功能

以下按钮已预留，但功能尚未实现：
- ❌ 添加教材
- ❌ 编辑教材
- ❌ 删除教材
- ❌ 添加词汇
- ❌ 编辑词汇
- ❌ 删除词汇

点击这些按钮会显示提示："该功能待实现"

## 部署信息

- **部署URL**: https://p4ajxpkqstt7.space.minimaxi.com
- **部署时间**: 2025-10-30
- **构建状态**: 成功
- **TypeScript**: 无类型错误
- **环境**: 生产环境

## 使用指南

### 查看教材
1. 访问网站首页
2. 向下滚动到底部
3. 点击"数据管理"按钮
4. 在"教材管理"Tab查看所有教材

### 查看词汇
1. 进入数据管理页面
2. 点击"词汇管理"Tab
3. 查看当前选中教材的词汇
4. 使用难度筛选按钮筛选词汇

### 切换教材
1. 在"教材管理"Tab
2. 点击任意教材卡片
3. 自动跳转到该教材的词汇列表

### 返回主页
1. 点击页面顶部"返回首页"按钮
2. 返回到答题主页

## 成功标准检查

- ✅ 主页有清晰的数据管理入口
- ✅ 管理页面能正常显示教材列表
- ✅ 管理页面能正常显示词汇列表
- ✅ 界面美观且与现有风格一致
- ✅ 所有按钮和导航正常工作
- ✅ 代码无TypeScript错误
- ✅ 构建和部署成功

## 后续建议

1. **功能完善**: 实现添加/编辑/删除功能
2. **权限控制**: 添加用户认证和权限管理
3. **数据验证**: 添加表单验证和数据校验
4. **批量操作**: 支持批量导入/导出词汇
5. **搜索功能**: 添加教材和词汇搜索
6. **排序功能**: 支持按不同字段排序
7. **分页功能**: 数据量大时添加分页
